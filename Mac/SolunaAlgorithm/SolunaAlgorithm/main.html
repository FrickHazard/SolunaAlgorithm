<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Emscripten-Generated Code</title>
  </head>
  <body>
        <script>
            function myInit() { 
                Module.onRuntimeInitialized = function() {               
                    console.log(Module); 
                    // var calculateAllGameStates = Module.cwrap('calculateAllGameStates', 'bool', ['number', 'number']);
                    var calculateAllGameStates = Module._calculateAllGameStates();
                    Module._calculateAllGameStates(4, 12);
                    var ptr = Module._getGameState(0);
                    var my_uint8_buffer = new Uint32Array(Module.HEAPU32.buffer, ptr, 4);
                    console.log(my_uint8_buffer);       
                }
            }
        </script>
        <script async type="text/javascript" src="res.js" onload="myInit()"></script>
        <script src="https://threejs.org/build/three.js"></script>
        <script>
	        var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			var geometry = new THREE.BoxGeometry();
			var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );

			camera.position.z = 5;

			var animate = function () {
				requestAnimationFrame( animate );

				cube.rotation.x += 0.01;
				cube.rotation.y += 0.01;

				renderer.render( scene, camera );
			};

			animate();

        </script>
  </body>
</html>


